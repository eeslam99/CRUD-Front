<div class="product-details-container">
  <div class="details-header">
    <h2>Product Details</h2>
    <button class="btn btn-secondary" (click)="onBack()">
      Back to List
    </button>
  </div>

  <div *ngIf="loading" class="loading">
    Loading product details...
  </div>

  <div *ngIf="!loading && product" class="details-card">
    <div class="product-badge">
      <span class="badge" [class.in-stock]="product.stock! > 0" [class.out-of-stock]="product.stock === 0">
        {{ product.stock! > 0 ? 'In Stock' : 'Out of Stock' }}
      </span>
    </div>

    <div class="details-content">
      <div class="detail-row">
        <div class="detail-label">Product ID:</div>
        <div class="detail-value">{{ product.id }}</div>
      </div>

      <div class="detail-row">
        <div class="detail-label">Name:</div>
        <div class="detail-value product-name">{{ product.name }}</div>
      </div>

      <div class="detail-row">
        <div class="detail-label">Category:</div>
        <div class="detail-value">
          <span *ngIf="product.category">{{ product.category.name }}</span>
          <span *ngIf="!product.category" style="color: #999;">Not assigned</span>
        </div>
      </div>

      <div class="detail-row">
        <div class="detail-label">SubCategory:</div>
        <div class="detail-value">
          <span *ngIf="product.subCategory">{{ product.subCategory.name }}</span>
          <span *ngIf="!product.subCategory" style="color: #999;">Not assigned</span>
        </div>
      </div>

      <div class="detail-row">
        <div class="detail-label">Country of Origin:</div>
        <div class="detail-value product-name">{{ product.countryOfOrigin }}</div>
      </div>

      <div class="detail-row">
        <div class="detail-label">Description:</div>
        <div class="detail-value">{{ product.description }}</div>
      </div>

      <div class="detail-row-grid">
        <div class="detail-item">
          <div class="detail-label">Price:</div>
          <div class="detail-value price">{{ product.price | currency }}</div>
        </div>

        <div class="detail-item">
          <div class="detail-label">Stock:</div>
          <div class="detail-value stock" [class.low-stock]="product.stock! < 10">
            {{ product.stock }} units
          </div>
        </div>
      </div>

      <div class="detail-row-grid">
        <div class="detail-item">
          <div class="detail-label">Created At:</div>
          <div class="detail-value">{{ product.createdAt | date:'medium' }}</div>
        </div>

        <div class="detail-item">
          <div class="detail-label">Updated At:</div>
          <div class="detail-value">
            {{ product.updatedAt ? (product.updatedAt | date:'medium') : 'Never' }}
          </div>
        </div>
      </div>
    </div>

    <div class="details-actions">
      <button 
        class="btn btn-primary" 
        [routerLink]="['/products/update', product.id]">
        <i class="icon">‚úèÔ∏è</i> Edit Product
      </button>
      <button 
        class="btn btn-danger" 
        (click)="onDelete()">
        <i class="icon">üóëÔ∏è</i> Delete Product
      </button>
    </div>
  </div>

  <div *ngIf="!loading && !product" class="no-product">
    <p>Product not found</p>
    <button class="btn btn-primary" (click)="onBack()">
      Go Back
    </button>
  </div>
</div>
